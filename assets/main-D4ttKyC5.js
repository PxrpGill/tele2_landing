(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".header"),t=document.querySelector(".main"),o=document.querySelector(".header__geoposition"),a=document.querySelector(".header__geoposition-button"),s=document.querySelector(".main__container"),i=document.querySelector(".choose-region-question").content.cloneNode(!0),e=i.querySelector(".choose-region-question__modal-window"),r=e.querySelector(".choose-region-question__agree-button"),u=e.querySelector(".choose-region-question__change-city-button"),p=()=>{t.style.opacity=0,c.style.position="fixed";const l=document.querySelector(".change-region").content.cloneNode(!0),d=l.querySelector(".change-region__modal-window"),m=l.querySelectorAll(".change-region__item-button"),g=document.createElement("div");g.className="main__modal-container",g.appendChild(l),s.appendChild(g),d.showModal(),m.forEach(h=>{h.addEventListener("click",()=>{localStorage.setItem("region",h.textContent),a.textContent=localStorage.getItem("region"),d.close(),s.removeChild(g),t.style.opacity=1,c.style.position=""})})},f=()=>{const _=document.createElement("div");_.className="main__dialog-container",_.appendChild(i),o.appendChild(_),setTimeout(()=>{e.showModal()},100),r.addEventListener("click",()=>{e.close(),o.removeChild(_)}),u.addEventListener("click",()=>{e.close(),o.removeChild(_),p()})};localStorage.getItem("region")?a.textContent=localStorage.getItem("region"):f(),a.addEventListener("click",p)});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".main__to-scroll-up-button");window.addEventListener("scroll",()=>{window.scrollY>300?c.style.display="block":c.style.display="none"}),c.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.onload=function(){window.scrollTo(0,0)}});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".main__processing-personal-data-input-tel"),t=document.querySelector(".main__processing-personal-data-submit"),o=document.querySelector(".main__info-message-computers"),a=document.querySelector(".main__processing-personal-data-agree"),s=document.querySelector(".main__info-message-phone"),n=3e3;function i(l){setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l)},n)}function e(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function r(){const l=document.querySelector(".main__failed-message-template");e(o);const d=l.content.cloneNode(!0),m=document.createElement("div");m.className="main__message-container",m.appendChild(d),o.appendChild(m),i(m),e(s);const g=l.content.cloneNode(!0),h=document.createElement("div");h.className="main__message-container",h.appendChild(g),s.appendChild(h),i(h)}function u(){const l=document.querySelector(".main__success-message-template");e(o);const d=l.content.cloneNode(!0),m=document.createElement("div");m.className="main__message-container",m.appendChild(d),o.appendChild(m),i(m),e(s);const g=l.content.cloneNode(!0),h=document.createElement("div");h.className="main__message-container",h.appendChild(g),s.appendChild(h),i(h)}function p(l){const d=new Date;localStorage.setItem(String(d),l)}function f(l){let d=!1;for(let m in localStorage)if(localStorage.hasOwnProperty&&m!="region"){const g=localStorage.getItem(m);l==g&&(d=!0)}return d}function _(l){return/(\+7|[0-689])\s\(\d{3}\)\s\d{3}-\d{2}-\d{2}/.test(l)}t.addEventListener("click",l=>{l.preventDefault();const d=c.value;!a.checked||d==""?(t.style.background="gray",setTimeout(()=>{t.style.background="white"},n)):_(d)?f(d)?r():(p(d),u()):r()})});document.addEventListener("DOMContentLoaded",function(){const c=document.querySelector(".main__processing-personal-data-input-tel");let t=function(n){return n.value.replace(/\D/g,"")},o=function(n){let i=n.target,e=t(i),r="",u=i.selectionStart;if(!e)return i.value="";if(i.value.length!=u){n.data&&/\D/g.test(n.data)&&(i.value=e);return}["7","8","9"].indexOf(e[0])>-1?(e[0]=="9"&&(e="7"+e),r=(e[0]=="8"?"8":"+7")+" ",e.length>1&&(r+="("+e.substring(1,4)),e.length>=5&&(r+=") "+e.substring(4,7)),e.length>=8&&(r+="-"+e.substring(7,9)),e.length>=10&&(r+="-"+e.substring(9,11))):(r="+"+e[0]+" ",e.length>1&&(r+="("+e.substring(1,4)),e.length>=5&&(r+=") "+e.substring(4,7)),e.length>=8&&(r+="-"+e.substring(7,9)),e.length>=10&&(r+="-"+e.substring(9,11))),i.value=r},a=function(n){let i=n.target;n.keyCode==8&&t(i).length==1&&(i.value="")},s=function(n){let i=n.clipboardData||window.clipboardData,e=n.target,r=t(e);if(i){let u=i.getData("Text");/\D/g.test(u)&&(e.value=r)}};c.addEventListener("input",o),c.addEventListener("keydown",a),c.addEventListener("paste",s)});class y{constructor(){this.itemsInPage=3,this.totalPages=0,this.isScrolling=!1,this.sliderPlace=document.querySelector(".main__slider-items"),this.sliderMarkersPlace=document.querySelector(".main__slider-markers"),this.prevButton=document.querySelector(".main__slider-control.prev"),this.nextButton=document.querySelector(".main__slider-control.next"),this.dots=`
            <li class="main__slider-marker">
                <span>...</span>
            </li>`,this.firstMarker=`
            <li class="main__slider-marker">
                <a href="#" data-page="1">
                    1
                </a>
            </li>`,this.addScrollEventListener()}generateLastMarker(){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${this.totalPages}">
                    ${this.totalPages}
                </a>
            </li>`}generateNextMarker(t){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${t+1}">
                    ${t+1}
                </a>
            </li>`}generateCurrentMarker(t){return`
            <li class="main__slider-marker active">
                <a href="#" data-page="${t}">
                    ${t}
                </a>
            </li>`}generatePrevMarker(t){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${t-1}">
                    ${t-1}
                </a>
            </li>`}generateSliderElement(t,o,a){return`
            <a id="item-${t+o}" name="item-${t+o}">
                <img class="main__slider-image" src="${a.avatar_url}" alt="Картинка пользователя" draggable="false">
            </a>`}inputInDOM(t){this.sliderPlace.innerHTML="",this.sliderMarkersPlace.innerHTML="";for(let o=0;o<t.length;o+=this.itemsInPage){const a=t.slice(o,o+this.itemsInPage);let s='<li class="main__slider-item">';a.forEach((n,i)=>{s+=this.generateSliderElement(o,i,n)}),s+="</li>",this.sliderPlace.innerHTML+=s}this.totalPages=Math.ceil(t.length/this.itemsInPage),this.generatePaginationMarkers(1),this.addClickEventListeners(),this.updateMarkersVisibility(0)}addScrollEventListener(){this.sliderPlace.addEventListener("scroll",()=>{this.isScrolling||(this.isScrolling=!0,setTimeout(()=>{const t=this.getCurrentSlideIndex(this.sliderPlace);this.updateMarkersVisibility(t),this.isScrolling=!1},100))}),this.sliderPlace.addEventListener("wheel",t=>{if(t.shiftKey){t.preventDefault();const o=this.sliderPlace.clientWidth,a=Math.round(t.deltaY/100)*o;this.sliderPlace.scrollTo({left:this.sliderPlace.scrollLeft+a,behavior:"smooth"});const s=this.getCurrentSlideIndex(this.sliderPlace);this.updateMarkersVisibility(s)}})}getCurrentSlideIndex(t){const o=Array.from(t.children),a=t.scrollLeft+t.clientWidth/2;for(let s=0;s<o.length;s++){const n=o[s];if(a>=n.offsetLeft&&a<n.offsetLeft+n.clientWidth)return s}return 0}updateMarkersVisibility(t){document.querySelectorAll(".main__slider-marker").forEach((a,s)=>{s===t?a.classList.add("active"):a.classList.remove("active")}),t===0?this.prevButton.style.display="none":this.prevButton.style.display="block",t===this.totalPages-1?this.nextButton.style.display="none":this.nextButton.style.display="block",this.generatePaginationMarkers(t+1)}generatePaginationMarkers(t){this.sliderMarkersPlace.innerHTML="",t!=1&&(this.sliderMarkersPlace.innerHTML+=this.firstMarker),t>3&&(this.sliderMarkersPlace.innerHTML+=this.dots),t>2&&(this.sliderMarkersPlace.innerHTML+=this.generatePrevMarker(t)),this.sliderMarkersPlace.innerHTML+=this.generateCurrentMarker(t),t<this.totalPages-1&&(this.sliderMarkersPlace.innerHTML+=this.generateNextMarker(t)),t<this.totalPages-2&&(this.sliderMarkersPlace.innerHTML+=this.dots),t!=this.totalPages&&(this.sliderMarkersPlace.innerHTML+=this.generateLastMarker()),this.addClickEventListeners()}addClickEventListeners(){document.querySelectorAll(".main__slider-marker a").forEach(o=>{o.addEventListener("click",a=>{a.preventDefault();const s=parseInt(a.target.closest("a").getAttribute("data-page"));this.scrollToPage(s)})}),this.prevButton.addEventListener("click",()=>{const o=this.getCurrentSlideIndex(this.sliderPlace);o>0&&this.scrollToPage(o)}),this.nextButton.addEventListener("click",()=>{const o=this.getCurrentSlideIndex(this.sliderPlace);o<this.totalPages-1&&this.scrollToPage(o+2)})}scrollToPage(t){const o=this.sliderPlace.clientWidth,a=(t-1)*o;this.sliderPlace.scrollTo({left:a,behavior:"smooth"})}}const S="https://api.github.com/users?per_page=99",v=async()=>{try{const c=await fetch(S);if(c.ok){const t=await c.json();new y().inputInDOM(t)}else console.error("Ошибка HTTP: "+c.status)}catch(c){console.error("Произошла ошибка:",c)}};v();document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".main__stocks-content-participate-button");let t=function(n){return n.value.replace(/\D/g,"")},o=function(n){let i=n.target,e=t(i),r="",u=i.selectionStart;if(!e)return i.value="";if(i.value.length!=u){n.data&&/\D/g.test(n.data)&&(i.value=e);return}["7","8","9"].indexOf(e[0])>-1?(e[0]=="9"&&(e="7"+e),r=(e[0]=="8"?"8":"+7")+" ",e.length>1&&(r+="("+e.substring(1,4)),e.length>=5&&(r+=") "+e.substring(4,7)),e.length>=8&&(r+="-"+e.substring(7,9)),e.length>=10&&(r+="-"+e.substring(9,11))):(r="+"+e[0]+" ",e.length>1&&(r+="("+e.substring(1,4)),e.length>=5&&(r+=") "+e.substring(4,7)),e.length>=8&&(r+="-"+e.substring(7,9)),e.length>=10&&(r+="-"+e.substring(9,11))),i.value=r},a=function(n){let i=n.target;n.keyCode==8&&t(i).length==1&&(i.value="")},s=function(n){let i=n.clipboardData||window.clipboardData,e=n.target,r=t(e);if(i){let u=i.getData("Text");/\D/g.test(u)&&(e.value=r)}};c.addEventListener("click",()=>{const i=document.querySelector(".participate").content.cloneNode(!0),e=i.querySelector(".participate__modal-window"),r=i.querySelector(".participate__close-button"),u=i.querySelector(".main__processing-personal-data-input-tel"),p=document.querySelector(".main__container"),f=document.createElement("div");f.className="main__modal-container",f.appendChild(i),p.appendChild(f),e.showModal(),r.addEventListener("click",()=>{e.close(),p.removeChild(f)}),u.addEventListener("input",o),u.addEventListener("keydown",a),u.addEventListener("paste",s)})});
