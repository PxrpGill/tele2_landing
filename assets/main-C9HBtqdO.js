(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".header"),e=document.querySelector(".main"),t=document.querySelector(".header__geoposition"),s=document.querySelector(".header__geoposition-button"),i=document.querySelector(".main__container"),a=document.querySelector(".choose-region-question").content.cloneNode(!0),d=a.querySelector(".choose-region-question__modal-window"),f=d.querySelector(".choose-region-question__agree-button"),y=d.querySelector(".choose-region-question__change-city-button"),u=()=>{e.style.opacity=0;const r=document.querySelector(".change-region").content.cloneNode(!0),c=r.querySelector(".change-region__modal-window"),m=r.querySelectorAll(".change-region__item-button"),h=document.createElement("div");h.className="main__modal-container",h.appendChild(r),i.appendChild(h),c.showModal();const g=document.body,v=window.getComputedStyle(g).paddingRight,C=window.innerWidth-document.documentElement.clientWidth;g.classList.add("modal-open"),g.style.paddingRight=`${parseInt(v)+C}px`,m.forEach(S=>{S.addEventListener("click",()=>{localStorage.setItem("region",S.textContent),s.textContent=localStorage.getItem("region"),c.close(),i.removeChild(h),e.style.opacity=1,n.style.position="",g.classList.remove("modal-open"),g.style.paddingRight=v})})},p=()=>{const l=document.createElement("div");l.className="main__dialog-container",l.appendChild(a),t.appendChild(l);const r=document.body,c=window.getComputedStyle(r).paddingRight,m=window.innerWidth-document.documentElement.clientWidth;setTimeout(()=>{document.body.style.overflow="hidden",r.style.paddingRight=`${parseInt(c)+m}px`,d.showModal()},100),f.addEventListener("click",()=>{document.body.style.overflow="",d.close(),t.removeChild(l),r.classList.remove("modal-open"),r.style.paddingRight=c}),y.addEventListener("click",()=>{d.close(),t.removeChild(l),r.classList.remove("modal-open"),r.style.paddingRight=c,u()})};localStorage.getItem("region")?s.textContent=localStorage.getItem("region"):p(),s.addEventListener("click",u)});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".main__to-scroll-up-button");window.addEventListener("scroll",()=>{window.scrollY>300?n.style.display="block":n.style.display="none"}),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.onload=function(){window.scrollTo(0,0)}});class k{constructor(){this.timeLiveMessage=3e7,this.successTemplate=document.querySelector(".main__success-message-template"),this.failedTemplate=document.querySelector(".main__failed-message-template"),this.failedMessagePhoneRetry="На этот номер уже выслан промокод"}deleteMessageFromDOM(e){setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},this.timeLiveMessage)}clearMessages(e){for(;e.firstChild;)e.removeChild(e.firstChild)}outputFailedMessage(e,t){this.clearMessages(t);const s=this.failedTemplate.content.cloneNode(!0),i=document.createElement("div");i.className="main__message-container",i.appendChild(s),t.appendChild(i),this.deleteMessageFromDOM(i),this.clearMessages(e);const o=this.failedTemplate.content.cloneNode(!0),a=document.createElement("div");a.className="main__message-container",a.appendChild(o),a.querySelector(".info-message__text-message").textContent=this.failedMessagePhoneRetry,e.appendChild(a),this.deleteMessageFromDOM(a)}outputSuccessMessage(e,t){this.clearMessages(t);const s=this.successTemplate.content.cloneNode(!0),i=document.createElement("div");i.className="main__message-container",i.appendChild(s),t.appendChild(i),this.deleteMessageFromDOM(i),this.clearMessages(e);const o=this.successTemplate.content.cloneNode(!0),a=document.createElement("div");a.className="main__message-container",a.appendChild(o),e.appendChild(a),this.deleteMessageFromDOM(a)}setNumberInLocalStorage(e){const t=new Date;localStorage.setItem(String(t),e)}phoneInLocalStorage(e){let t=!1;for(let s in localStorage)if(localStorage.hasOwnProperty(s)&&s!="region"){const i=localStorage.getItem(s);e==i&&(t=!0)}return t}validatePhoneNumber(e){return/(\+7|[0-689])\s\(\d{3}\)\s\d{3}-\d{2}-\d{2}/.test(e)}dataProcessing(e,t,s,i,o,a){e.preventDefault();const d=a.value;!t.checked||d==""?(o.style.background="gray",setTimeout(()=>{o.style.background="white"},this.timeLiveMessage)):this.validatePhoneNumber(d)?this.phoneInLocalStorage(d)?this.outputFailedMessage(s,i):(this.setNumberInLocalStorage(d),this.outputSuccessMessage(s,i)):this.outputFailedMessage(s,i)}}const E=document.querySelector(".main__processing-personal-data-input-tel"),q=document.querySelector(".main__info-message-computers"),T=document.querySelector(".main__info-message-phone"),N=document.querySelector(".main__processing-personal-data-agree"),L=document.querySelector(".main__processing-personal-data-submit");L.addEventListener("click",function(n){new k().dataProcessing(n,N,T,q,L,E)});const _=document.querySelector(".main__processing-personal-data-input-tel");function M(n){return n.value.replace(/\D/g,"")}function b(n){let e=n.target,t=M(e),s="",i=e.selectionStart;if(!t)return e.value="";if(e.value.length!=i){n.data&&/\D/g.test(n.data)&&(e.value=t);return}["7","8","9"].indexOf(t[0])>-1?(t[0]=="9"&&(t="7"+t),s=(t[0]=="8"?"8":"+7")+" ",t.length>1&&(s+="("+t.substring(1,4)),t.length>=5&&(s+=") "+t.substring(4,7)),t.length>=8&&(s+="-"+t.substring(7,9)),t.length>=10&&(s+="-"+t.substring(9,11))):(s="+"+t[0]+" ",t.length>1&&(s+="("+t.substring(1,4)),t.length>=5&&(s+=") "+t.substring(4,7)),t.length>=8&&(s+="-"+t.substring(7,9)),t.length>=10&&(s+="-"+t.substring(9,11))),e.value=s}function P(n){let e=n.target;n.keyCode==8&&M(e).length==1&&(e.value="")}function w(n){let e=n.clipboardData||window.clipboardData,t=n.target,s=M(t);if(e){let i=e.getData("Text");/\D/g.test(i)&&(t.value=s)}}_.addEventListener("input",b);_.addEventListener("keydown",P);_.addEventListener("paste",w);class x{constructor(){this.itemsInPage=3,this.totalPages=0,this.isScrolling=!1,this.sliderPlace=document.querySelector(".main__slider-items"),this.sliderMarkersPlace=document.querySelector(".main__slider-markers"),this.prevButton=document.querySelector(".main__slider-control.prev"),this.nextButton=document.querySelector(".main__slider-control.next"),this.dots=`
            <li class="main__slider-marker">
                <span>...</span>
            </li>`,this.firstMarker=`
            <li class="main__slider-marker">
                <a href="#" data-page="1">
                    1
                </a>
            </li>`,this.addScrollEventListener()}generateLastMarker(){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${this.totalPages}">
                    ${this.totalPages}
                </a>
            </li>`}generateNextMarker(e){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${e+1}">
                    ${e+1}
                </a>
            </li>`}generateCurrentMarker(e){return`
            <li class="main__slider-marker active">
                <a href="#" data-page="${e}">
                    ${e}
                </a>
            </li>`}generatePrevMarker(e){return`
            <li class="main__slider-marker">
                <a href="#" data-page="${e-1}">
                    ${e-1}
                </a>
            </li>`}generateSliderElement(e,t,s){return`
            <a id="item-${e+t}" name="item-${e+t}">
                <img class="main__slider-image" src="${s.avatar_url}" alt="Картинка пользователя" draggable="false">
            </a>`}inputInDOM(e){this.sliderPlace.innerHTML="",this.sliderMarkersPlace.innerHTML="";for(let t=0;t<e.length;t+=this.itemsInPage){const s=e.slice(t,t+this.itemsInPage);let i='<li class="main__slider-item">';s.forEach((o,a)=>{i+=this.generateSliderElement(t,a,o)}),i+="</li>",this.sliderPlace.innerHTML+=i}this.totalPages=Math.ceil(e.length/this.itemsInPage),this.generatePaginationMarkers(1),this.addClickEventListeners(),this.updateMarkersVisibility(0)}addScrollEventListener(){this.sliderPlace.addEventListener("scroll",()=>{this.isScrolling||(this.isScrolling=!0,setTimeout(()=>{const e=this.getCurrentSlideIndex(this.sliderPlace);this.updateMarkersVisibility(e),this.isScrolling=!1},100))}),this.sliderPlace.addEventListener("wheel",e=>{if(e.shiftKey){e.preventDefault();const t=this.sliderPlace.clientWidth,s=Math.round(e.deltaY/100)*t;this.sliderPlace.scrollTo({left:this.sliderPlace.scrollLeft+s,behavior:"smooth"});const i=this.getCurrentSlideIndex(this.sliderPlace);this.updateMarkersVisibility(i)}})}getCurrentSlideIndex(e){const t=Array.from(e.children),s=e.scrollLeft+e.clientWidth/2;for(let i=0;i<t.length;i++){const o=t[i];if(s>=o.offsetLeft&&s<o.offsetLeft+o.clientWidth)return i}return 0}updateMarkersVisibility(e){document.querySelectorAll(".main__slider-marker").forEach((s,i)=>{i===e?s.classList.add("active"):s.classList.remove("active")}),e===0?this.prevButton.style.display="none":this.prevButton.style.display="block",e===this.totalPages-1?this.nextButton.style.display="none":this.nextButton.style.display="block",this.generatePaginationMarkers(e+1)}generatePaginationMarkers(e){this.sliderMarkersPlace.innerHTML="",e!=1&&(this.sliderMarkersPlace.innerHTML+=this.firstMarker),e>3&&(this.sliderMarkersPlace.innerHTML+=this.dots),e>2&&(this.sliderMarkersPlace.innerHTML+=this.generatePrevMarker(e)),this.sliderMarkersPlace.innerHTML+=this.generateCurrentMarker(e),e<this.totalPages-1&&(this.sliderMarkersPlace.innerHTML+=this.generateNextMarker(e)),e<this.totalPages-2&&(this.sliderMarkersPlace.innerHTML+=this.dots),e!=this.totalPages&&(this.sliderMarkersPlace.innerHTML+=this.generateLastMarker()),this.addClickEventListeners()}addClickEventListeners(){document.querySelectorAll(".main__slider-marker a").forEach(t=>{t.addEventListener("click",s=>{s.preventDefault();const i=parseInt(s.target.closest("a").getAttribute("data-page"));this.scrollToPage(i)})}),this.prevButton.addEventListener("click",()=>{const t=this.getCurrentSlideIndex(this.sliderPlace);t>0&&this.scrollToPage(t)}),this.nextButton.addEventListener("click",()=>{const t=this.getCurrentSlideIndex(this.sliderPlace);t<this.totalPages-1&&this.scrollToPage(t+2)})}scrollToPage(e){const t=this.sliderPlace.clientWidth,s=(e-1)*t;this.sliderPlace.scrollTo({left:s,behavior:"smooth"})}}const I="https://api.github.com/users?per_page=99",D=async()=>{try{const n=await fetch(I);if(n.ok){const e=await n.json();new x().inputInDOM(e)}else console.error("Ошибка HTTP: "+n.status)}catch(n){console.error("Произошла ошибка:",n)}};D();document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".main__stocks-content-participate-button").addEventListener("click",()=>{const t=document.querySelector(".participate").content.cloneNode(!0),s=t.querySelector(".participate__modal-window"),i=s.querySelector(".main__processing-personal-data-input-tel"),o=s.querySelector(".main__processing-personal-data-agree"),a=s.querySelector(".main__processing-personal-data-submit"),d=s.querySelector(".participate__close-button"),f=s.querySelector(".main__info-message-phone"),y=s.querySelector(".main__info-message-computers"),u=document.createElement("div");u.className="main__modal-container";const p=document.querySelector(".main__container");u.appendChild(t),p.appendChild(u),s.showModal(),document.body.style.overflow="hidden";const l=document.body,r=parseInt(window.getComputedStyle(l).paddingRight,10)||0,c=window.innerWidth-document.documentElement.clientWidth;console.log(`Body original padding-right: ${r}px`),console.log(`Scroll bar width: ${c}px`),l.classList.add("modal-open"),l.style.paddingRight=`${r+c}px`,console.log(`Body new padding-right: ${l.style.paddingRight}`),d.addEventListener("click",()=>{s.close(),p.removeChild(u),document.body.style.overflow="",l.classList.remove("modal-open"),l.style.paddingRight=`${r}px`,console.log("Modal closed and padding restored")}),i.addEventListener("input",b),i.addEventListener("keydown",P),i.addEventListener("paste",w),a.addEventListener("click",function(m){new k().dataProcessing(m,o,f,y,a,i)})})});
